!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).UseSingleton={})}(this,(function(e){"use strict";const n=function(e){let n="function"==typeof e?e():e;return[function(){return n},e=>{n="function"==typeof e?e(n):e}]},t=function(e,{withKey:t=!1,immediate:o=!1,cache:i=!1}={}){const u={};let f;const s=new Map,[c,r]=n(void 0);function d(){return c()===u?void 0:c()}function l(n,{refresh:o=!1}={}){const l=c(),a=t&&n!==f;return(a||o||l===u)&&(f=n,a&&i&&s.has(f)?r(s.get(f)):r(function(n){const o=e(t?n:void 0,d());return i&&s.set(n,o),o}(f))),d()}return o&&l(),l};e.default=t,e.useSingle=n,e.useSingleton=t,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
